#!/usr/bin/awk -f
BEGIN {
  FS = OFS = "\t"
}
$0 !~ /github\.com/ { next } # skip not github
$3 ~ /github\.com\/[A-Za-z0-9_\.-]+\/[A-Za-z0-9_\.-]+\/?$/ {
  repo = $3
  gsub(/\/$/,"")
  print $0, "REPO"
  next # nothing more to process
}
$3 ~ /\/releases\/?$/ {
  gsub(/\/releases\/?$/,"",$3)
  print $0, "REPO_fix"
  next
}
/releases\/tag/ {
  repo = $3
  tag = repo
  gsub(/^.*releases\/tag\//, "", tag)
  print $0, "REPO_TAG", tag
  next
}
/blob/ {
  print $0, "FILE"
  next
}
{
  print $0, "UNKNOWN"
}
