#!/bin/bash

scripts/generate-master-list.sh > master-url-list.tsv
scripts/usable-raw-urls.awk data/url-results.tsv > data/usable-raw-urls.tsv
scripts/remaining-urls.awk data/url-results.tsv > data/remaining-to-process.tsv
awk '
BEGIN { FS = OFS = "\t" }
ARGIND == 1 { urls[$1] = 1 }
ARGIND == 2 && $3 in urls { print }
' data/remaining-to-process.tsv data/exploitdb_links_raw.tsv > remaining.tsv

# gzip
#scripts/test-gzip.sh | paste - - > data/ungzip-results.tsv
# http to https
#scripts/http-urls-remaining.sh | tee data/http-to-https-results.tsv
#awk -f scripts/usable-raw-urls.awk data/http-to-https-results.tsv > data/usable-http-https-converted-urls.tsv
# https urls join with http to https conversions
#scripts/get-http-https-modifications.sh > data-entry-urls.tsv
